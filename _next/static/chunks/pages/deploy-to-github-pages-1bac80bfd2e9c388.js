(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[348],{6693:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/deploy-to-github-pages",function(){return t(8886)}])},8886:function(e,n,t){"use strict";t.r(n),t.d(n,{__toc:function(){return c},default:function(){return p}});var s=t(5893),i=t(2673),r=t(2643),a={src:"/docs/_next/static/media/use-template.657ec5a5.png",height:1420,width:1480,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAACVBMVEURFRshJi0cMVLvd14jAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAG0lEQVR4nGNgZGRkAAMYjcyASUEFkACqEBMTAAK4ABGqKpozAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},o={src:"/docs/_next/static/media/workflow-permissions.ce46002e.png",height:628,width:1536,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAACVBMVEUZHiURFRsiJy009U0EAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAG0lEQVR4nBXIsQ0AAACCMOD/o40dS3FShQofdQFFABYS7Bt3AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3},l={src:"/docs/_next/static/media/set-gh-pages.4696067e.png",height:678,width:1580,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAABlBMVEUPFBscIim2dW6eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAEklEQVR4nGNgZGSAAEYYC8YAAACTAAmyjORVAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3},d=t(9013),h=t(4227);let c=[{depth:2,value:"Use Case",id:"use-case"},{depth:2,value:"Implementation",id:"implementation"},{depth:3,value:"Create your template repository",id:"create-your-template-repository"},{depth:3,value:"Adjust workflow permissons",id:"adjust-workflow-permissons"},{depth:3,value:"Modify environmmental variables",id:"modify-environmmental-variables"},{depth:3,value:"Watch the build",id:"watch-the-build"},{depth:3,value:"Validate the URL",id:"validate-the-url"}];function _createMdxContent(e){let n=Object.assign({h1:"h1",p:"p",a:"a",h2:"h2",h3:"h3",ul:"ul",li:"li",strong:"strong",code:"code",img:"img",em:"em",pre:"pre",span:"span"},(0,r.a)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{children:"Deploy to GitHub Pages"}),"\n",(0,s.jsx)(h.$0,{size:"1",children:(0,s.jsx)(h.xv,{size:"4",children:(0,s.jsx)(n.p,{children:"Canopy IIIF is designed to be deployed as a statically generated website.\nStatic sites are a great option for many projects, as they are fast, secure,\nand easy to deploy and maintain. This guide will walk you through the\nprocess of deploying project as a static website using GitHub Pages using\nthe incorporated GitHub Actions in Canopy to automate the build and\ndeployment process."})})}),"\n",(0,s.jsx)(d.UW,{type:"info",children:(0,s.jsxs)(n.p,{children:["Requires a ",(0,s.jsx)(n.a,{href:"https://github.com/",children:"GitHub"})," account."," "]})}),"\n",(0,s.jsx)(n.h2,{id:"use-case",children:"Use Case"}),"\n",(0,s.jsx)(n.p,{children:"You are a graduate student researching the American painter Beauford Delaney\nand you would like to easily create and host a digital scholarship project\nanalyzing items in your institution's digital collections."}),"\n",(0,s.jsx)(n.h2,{id:"implementation",children:"Implementation"}),"\n",(0,s.jsxs)(d.Rg,{children:[(0,s.jsx)(n.h3,{id:"create-your-template-repository",children:"Create your template repository"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Navigate to the ",(0,s.jsx)(n.a,{href:"https://github.com/canopy-iiif/canopy-iiif",children:"Canopy IIIF"})," repository"]}),"\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Use this template"})," dropdown and then select ",(0,s.jsx)(n.strong,{children:"Create a new repository"})]}),"\n",(0,s.jsxs)(n.li,{children:["Under ",(0,s.jsx)(n.strong,{children:"Owner"}),", select the GitHub account or organization (if applicable) that you want to own the repository"]}),"\n",(0,s.jsxs)(n.li,{children:["Enter a ",(0,s.jsx)(n.strong,{children:"Repository name"})," for your new Canopy IIIF project, ex: ",(0,s.jsx)(n.code,{children:"delaney-project"})]}),"\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Create repository"})," button"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"create new repository from use template",placeholder:"blur",src:a})}),(0,s.jsx)(n.h3,{id:"adjust-workflow-permissons",children:"Adjust workflow permissons"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Once the repository is created, open the ",(0,s.jsx)(n.strong,{children:"Settings"})," tab"]}),"\n",(0,s.jsxs)(n.li,{children:["Open the ",(0,s.jsx)(n.strong,{children:"Actions"})," dropdown under ",(0,s.jsx)(n.em,{children:"Code and automation"})," and select ",(0,s.jsx)(n.strong,{children:"General"})," ."]}),"\n",(0,s.jsxs)(n.li,{children:["Select ",(0,s.jsx)(n.strong,{children:"Read and write permissions"})," option under ",(0,s.jsx)(n.em,{children:"Workflow permissions"})," and ",(0,s.jsx)(n.strong,{children:"Save"}),". This allows the GitHub\nworkflow to run and the static Canopy output to be deployed to a new branch."]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"adjust workflow Permissions",placeholder:"blur",src:o})}),(0,s.jsx)(n.h3,{id:"modify-environmmental-variables",children:"Modify environmmental variables"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Next, find the ",(0,s.jsx)(n.code,{children:".env"})," file in your repository and open it for editing"]}),"\n",(0,s.jsxs)(n.li,{children:["Modify ",(0,s.jsx)(n.code,{children:"NEXT_PUBLIC_URL"})," to reflect your GitHub username, ex: ",(0,s.jsx)(n.code,{children:"https://markpbaggett.github.io"})]}),"\n",(0,s.jsxs)(n.li,{children:["Modify ",(0,s.jsx)(n.code,{children:"NEXT_PUBLIC_BASE_PATH"})," to reflect the name of your new repository , ex: ",(0,s.jsx)(n.code,{children:"/delaney-project"})]}),"\n",(0,s.jsxs)(n.li,{children:["Commit the changed ",(0,s.jsx)(n.code,{children:".env"})," file"]}),"\n"]}),(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:".env"})," file should follow a format similar to the following:"]}),(0,s.jsx)(n.pre,{"data-language":"sh","data-theme":"default",filename:".env",hasCopyCode:!0,children:(0,s.jsxs)(n.code,{"data-language":"sh","data-theme":"default",children:[(0,s.jsxs)(n.span,{className:"line",children:[(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"NEXT_PUBLIC_URL"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"https://{GITHUB_USERNAME}.github.io"'})]}),"\n",(0,s.jsxs)(n.span,{className:"line",children:[(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"NEXT_PUBLIC_BASE_PATH"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/{GITHUB_REPOSITORY_NAME}"'})]})]})}),(0,s.jsxs)(n.p,{children:["In this example, we are using the GitHub username ",(0,s.jsx)(n.code,{children:"markpbaggett"})," and the repository name ",(0,s.jsx)(n.code,{children:"delaney-project"}),"."]}),(0,s.jsx)(n.pre,{"data-language":"sh","data-theme":"default",filename:".env",hasCopyCode:!0,children:(0,s.jsxs)(n.code,{"data-language":"sh","data-theme":"default",children:[(0,s.jsxs)(n.span,{className:"line",children:[(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"NEXT_PUBLIC_URL"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"https://markpbaggett.github.io"'})]}),"\n",(0,s.jsxs)(n.span,{className:"line",children:[(0,s.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"NEXT_PUBLIC_BASE_PATH"}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/delaney-project"'})]})]})}),(0,s.jsxs)(n.p,{children:["After committing the new ",(0,s.jsx)(n.code,{children:".env"})," file, a pre-configured ",(0,s.jsx)(n.a,{href:"https://docs.github.com/en/actions/using-workflows/about-workflows",children:"GitHub Actions workflow"})," will run."]}),(0,s.jsx)(d.UW,{type:"info",children:(0,s.jsxs)(n.p,{children:["If you're interested in learning more about the GitHub Actions workflow, you\ncan view the ",(0,s.jsx)(n.a,{href:"https://github.com/canopy-iiif/canopy-iiif/blob/main/.github/workflows/gh-pages.deploy.yml",children:"workflow\nfile"}),"\nin the Canopy IIIF repository."]})}),(0,s.jsxs)(n.p,{children:["Once the action has run successfully, the action indicator should update to a check mark and a new branch ",(0,s.jsx)(n.strong,{children:"gh-pages"})," will be created with an output of your static site."]}),(0,s.jsx)(n.h3,{id:"watch-the-build",children:"Watch the build"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Once the ",(0,s.jsx)(n.strong,{children:"gh-pages"})," branch exists, press the ",(0,s.jsx)(n.strong,{children:"Settings"})," tab"]}),"\n",(0,s.jsxs)(n.li,{children:["Under ",(0,s.jsx)(n.em,{children:"Code and automation"}),", press ",(0,s.jsx)(n.strong,{children:"Pages"})]}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.em,{children:"Build and deployment"})," section, select ",(0,s.jsx)(n.strong,{children:"gh-pages"})," from the ",(0,s.jsx)(n.strong,{children:"Branch"})," dropdown"]}),"\n",(0,s.jsxs)(n.li,{children:["Leave ",(0,s.jsx)(n.code,{children:"/(root)"})," set from the ",(0,s.jsx)(n.strong,{children:"Folder"})," dropdown"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Save"})]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Set gh-pages in Settings",placeholder:"blur",src:l})}),(0,s.jsx)(n.h3,{id:"validate-the-url",children:"Validate the URL"}),(0,s.jsx)(d.UW,{type:"info",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Tip"}),": Find the URL in the GitHub ",(0,s.jsx)(n.strong,{children:"Settings"})," tab, by viewing ",(0,s.jsx)(n.strong,{children:"Pages"}),"\nunder ",(0,s.jsx)(n.em,{children:"Code and automation"}),"."]})}),(0,s.jsxs)(n.p,{children:["Now your Canopy site will be active at a URL derived from values you defined in the ",(0,s.jsx)(n.code,{children:"NEXT_PUBLIC_URL"})," and ",(0,s.jsx)(n.code,{children:"NEXT_PUBLIC_BASE_PATH"})," settings."]}),(0,s.jsx)(n.pre,{"data-language":"sh","data-theme":"default",children:(0,s.jsx)(n.code,{"data-language":"sh","data-theme":"default",children:(0,s.jsx)(n.span,{className:"line",children:(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"https://[NEXT_PUBLIC_URL][NEXT_PUBLIC_BASE_PATH]"})})})}),(0,s.jsx)(n.p,{children:"The example values above would result in the following URL:"}),(0,s.jsx)(n.pre,{"data-language":"sh","data-theme":"default",children:(0,s.jsx)(n.code,{"data-language":"sh","data-theme":"default",children:(0,s.jsx)(n.span,{className:"line",children:(0,s.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"https://markpbaggett.github.io/delaney-project"})})})})]})]})}var p=(0,i.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.a)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/deploy-to-github-pages.mdx",route:"/deploy-to-github-pages",title:"Deploy to GitHub Pages",headings:c},pageNextRoute:"/deploy-to-github-pages"})}},function(e){e.O(0,[673,774,888,179],function(){return e(e.s=6693)}),_N_E=e.O()}]);