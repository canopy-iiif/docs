(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{5914:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/use-metadata-collections",function(){return n(2603)}])},2603:function(e,s,n){"use strict";n.r(s),n.d(s,{__toc:function(){return h},default:function(){return d}});var t=n(5893),o=n(2673),a=n(2643),i={src:"/docs/_next/static/media/war-pensions-collection.4eed2ef0.png",height:1720,width:3024,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAABlBMVEUwMjkpKjX5m5fLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAGElEQVR4nGNgYGBkZGRkAAMQC8yEM1AlAQICABYnakPoAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:5},l={src:"/docs/_next/static/media/war-pensions-example.6c828bac.png",height:1720,width:3024,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAG1BMVEX8/P3q6OTq5dl3eHvt7e/x8fJzc3b19fXk3M2ULWjGAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAKUlEQVR4nBXGyREAMAwCscXgo/+KM9FLeMZjGzq7vUCkpAHdVd1PlSQeDQMAfcgg5MAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:5},r=n(9013),c=n(8835);let h=[{depth:2,value:"Use Case",id:"use-case"},{depth:2,value:"Implementation",id:"implementation"},{depth:3,value:"Add Metadata Labels to the metadata Property of your Config",id:"add-metadata-labels-to-the-metadata-property-of-your-config"},{depth:3,value:"Validate that the Collection was Generated",id:"validate-that-the-collection-was-generated"},{depth:3,value:"Add the Collection to your Custom Content",id:"add-the-collection-to-your-custom-content"}];function _createMdxContent(e){let s=Object.assign({h1:"h1",p:"p",a:"a",code:"code",h2:"h2",pre:"pre",span:"span",h3:"h3",strong:"strong",em:"em",img:"img"},(0,a.a)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{children:"Use Metadata Collections"}),"\n",(0,t.jsx)(c.$0,{size:"1",children:(0,t.jsx)(c.xv,{size:"4",children:(0,t.jsxs)(s.p,{children:["Canopy generates new IIIF Collections based on the\n",(0,t.jsx)(s.a,{href:"/configuration#metadata",children:"metadata"})," labels included in your\n",(0,t.jsx)(s.code,{children:"config/canopy.json"})," file. For each unique string value associated with the\nlabel across IIIF Manifests found in your project, a new IIIF Collection is\ncreated. These Collections are used to create facets across your site and\nare also available for reuse in custom content."]})})}),"\n",(0,t.jsx)(r.UW,{children:(0,t.jsxs)(s.p,{children:["This guide assumes you have a Canopy IIIF project. See the ",(0,t.jsx)(s.a,{href:"/get-started",children:"Create a\nProject"})," guide to get started."]})}),"\n",(0,t.jsx)(s.h2,{id:"use-case",children:"Use Case"}),"\n",(0,t.jsx)(s.p,{children:'You are a researcher creating a digital scholarship project and would like to add a custom content page\nwith a Slider component that displays all the works in your collection that have a "Subject" of "War pensions".'}),"\n",(0,t.jsx)(s.pre,{"data-language":"json","data-theme":"default",children:(0,t.jsxs)(s.code,{"data-language":"json","data-theme":"default",children:[(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"metadata"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:": ["})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    {"})}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"label"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"en"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["})]}),"\n",(0,t.jsxs)(s.span,{className:"line highlighted",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Subject"'})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        ]"})}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      }"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"value"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"en"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["})]}),"\n",(0,t.jsxs)(s.span,{className:"line highlighted",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"War pensions"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Tennessee--Politics and government--To 1865"'})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        ]"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      }"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ]"})})]})}),"\n",(0,t.jsx)(s.h2,{id:"implementation",children:"Implementation"}),"\n",(0,t.jsxs)(r.Rg,{children:[(0,t.jsxs)(s.h3,{id:"add-metadata-labels-to-the-metadata-property-of-your-config",children:["Add Metadata Labels to the ",(0,t.jsx)(s.strong,{children:"metadata"})," Property of your Config"]}),(0,t.jsxs)(s.p,{children:["In order for Canopy to generate a Collection for a given metadata label, you must add the label to the\n",(0,t.jsx)(s.code,{children:"metadata"})," property in your ",(0,t.jsx)(s.code,{children:"config/canopy.json"})," file. The ",(0,t.jsx)(s.code,{children:"metadata"})," property is an array of metadata labels that\nmatch string values in your Manifest URI metadata entries."]}),(0,t.jsxs)(s.p,{children:["Since you need a Collection for the ",(0,t.jsx)(s.strong,{children:"Subject"})," label with value of ",(0,t.jsx)(s.em,{children:'"War pensions"'}),", you need to add the label to your\n",(0,t.jsx)(s.code,{children:"metadata"})," array if it's not already there."]}),(0,t.jsx)(s.pre,{"data-language":"json","data-theme":"default",filename:"config/canopy.json",children:(0,t.jsxs)(s.code,{"data-language":"json","data-theme":"default",children:[(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{"})}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"collection"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"https://digital.lib.utk.edu/assemble/collection/collections/tdh"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line highlighted",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:'"metadata"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Subject"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Place"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Format"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Date"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),(0,t.jsx)(s.h3,{id:"validate-that-the-collection-was-generated",children:"Validate that the Collection was Generated"}),(0,t.jsx)(r.UW,{type:"info",children:(0,t.jsxs)(s.p,{children:["If you have defined ",(0,t.jsx)(s.code,{children:"NEXT_PUBLIC_BASE_PATH"})," in your ",(0,t.jsx)(s.code,{children:".env"})," file, you will need\nto include that pattern in your URI."]})}),(0,t.jsxs)(s.p,{children:["IIIF Collections are generated when your site is rebuilt or when your server is restarted. After you've added the\nmetadata label to your ",(0,t.jsx)(s.code,{children:"config/canopy.json"})," file, you should make sure your collection exists. If you are working\ndirectly in GitHub with GitHub Pages, you can commit the change and wait for the site to rebuild. If you are working\nlocally, you will need to stop your local server:",(0,t.jsx)(s.code,{children:"ctrl + c"})," and then ",(0,t.jsx)(s.code,{children:"npm run dev"})," to restart your local server."]}),(0,t.jsxs)(s.p,{children:["Once your site is running, you can check that the IIIF Collection was generated by visiting the Collection URI in your\nbrowser. Canopy uses the ",(0,t.jsx)(s.a,{href:"https://www.npmjs.com/package/slugify",children:"slugify"})," package when generating IIIF Collections. In\nthis process, both the metadata label and metadata value are ",(0,t.jsx)(s.em,{children:"slugified"})," to create the route to you collection. Slugifying\nis beneficial for search engine optimization and readability."]}),(0,t.jsxs)(s.p,{children:["The pattern for the URI for your Collection will be your site's base path followed by ",(0,t.jsx)(s.code,{children:"/api/facet/${facet.slug}/${value.slug}.json"}),".\nIn this example, the Collection URI would be ",(0,t.jsx)(s.code,{children:"/api/facet/subject/war-pensions.json"}),"."]}),(0,t.jsx)(c.xu,{m:"9",my:"6",children:(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Example Generated Collection",placeholder:"blur",src:i})})}),(0,t.jsx)(s.h3,{id:"add-the-collection-to-your-custom-content",children:"Add the Collection to your Custom Content"}),(0,t.jsxs)(s.p,{children:["Now that you have confirmed the generated Collection is available, you can add it to your custom content. Let's say\nyou want to use the Collection in a Slider component on a custom content page called ",(0,t.jsx)(s.code,{children:"history"})," in the ",(0,t.jsx)(s.code,{children:"about"})," section\nof your site. You would create or modify the file according to the ",(0,t.jsx)(s.a,{href:"/docs/create-markdown-content",children:"Create Markdown Content Guide"}),"\nand add the Slider component where you want it to appear on the page with your Collection URI as the value of the\n",(0,t.jsx)(s.code,{children:"iiifContent"})," attribute."]}),(0,t.jsx)(s.pre,{"data-language":"mdx","data-theme":"default",filename:"content/about/history.mdx",children:(0,t.jsxs)(s.code,{"data-language":"mdx","data-theme":"default",children:[(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"---"})}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"title"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"History"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"navigation"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"about"'})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"---"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:" "}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"# War Pensions"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:" "}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"During the American Civil War, the issue of war pensions emerged as a crucial aspect of post-conflict reconstruction. As"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"the nation grappled with the devastating aftermath of the war, the U.S. government recognized the need to support the"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"veterans who had sacrificed their well-being for the Union or the Confederacy. War pensions, providing financial"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"assistance and support to disabled veterans, widows, and orphans, became a cornerstone of the post-war social contract."})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"The Pension Acts of 1862 and 1864 marked significant legislative milestones, establishing the framework for compensating"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"soldiers and their families for injuries, disabilities, and loss of life incurred during the conflict. These early"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"pension initiatives laid the foundation for the more comprehensive pension system that would evolve in subsequent"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"decades, reflecting the government's commitment to honoring and caring for those who bore the burdens of the Civil War."})}),"\n",(0,t.jsx)(s.span,{className:"line",children:" "}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"## Explore Works Related to War Pensions"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:" "}),"\n",(0,t.jsxs)(s.span,{className:"line highlighted",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Slider"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"iiifContent"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/api/facet/subject/war-pensions.json"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" />"})]})]})}),(0,t.jsx)(r.UW,{type:"info",children:(0,t.jsxs)(s.p,{children:["Read more about creating custom content in the ",(0,t.jsx)(s.a,{href:"/docs/create-markdown-content",children:"Create Markdown Content\nGuide"}),"."]})}),(0,t.jsx)(c.xu,{m:"9",my:"6",children:(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Example War Pensions Content",placeholder:"blur",src:l})})})]})]})}var d=(0,o.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,a.a)(),e.components);return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/use-metadata-collections.mdx",route:"/use-metadata-collections",title:"Use Metadata Collections",headings:h},pageNextRoute:"/use-metadata-collections"})}},function(e){e.O(0,[673,774,888,179],function(){return e(e.s=5914)}),_N_E=e.O()}]);